OASISFormat: 0.3
Name:        logtk
Version:     0.1
Homepage:    https://github.com/c-cube/logtk
Authors:     Simon Cruanes
License:     BSD3
LicenseFile: LICENSE
Plugins:     META (0.3)
OCamlVersion: >= 4.00.1
BuildTools:  ocamlbuild

Synopsis:    Logic toolkit, designed primarily for first-order automated reasoning.
Description: 
    Logic toolkit, designed primarily for first-order automated reasoning. It aims
    at providing basic types and algorithms (terms, unification, orderings,
    indexing, etc.) that can be factored out of several applications.

Flag "tools"
  Description:  Build and install basic tools (CNF, etc.)
  Default:      false

Flag "meta"
  Description:  Build and install meta-prover
  Default:      false

Flag "bench"
  Description:  Build and run benchmarks
  Default:      false

Flag "extended"
  Description:  Extended library
  Default:      false

Flag "qcheck"
  Description:  Build and install QCheck random generators
  Default:      false

Library "logtk"
  Path:             src/
  Pack:             true
  Modules:          Symbol, ScopedTerm, FOTerm, Type, Util, PrologTerm,
                    Hash, Interfaces, DBEnv, Position, Hashcons, HOTerm,
                    lib/Sequence, lib/Cache, lib/Bij, lib/Bencode,
                    lib/PersistentHashtbl
                    # Substs, Unif
  BuildDepends:     zarith,unix,str
  XMETARequires:    zarith,unix,str

Library "logtk_extended"
  Path:             src/
  Pack:             true
  FindlibName:      extended
  FindlibParent:    logtk
  Build$:           flag(extended)
  Install$:         flag(extended)
  Modules:          HO, FO, Symbol, Hash, Hashcons, FOTerm, HOTerm, FOFormula,
                    Util, FOUnif, HOUnif, Type, Substs, Signature, TypeInference, 
                    Lex_tptp, Ast_tptp, Parse_tptp, Lambda, Multiset,
                    ScopedTerm,
                    Comparison, PartialOrder, Precedence, Ordering, Position,
                    Cnf, Index, Dtree, Fingerprint, Rewriting, FeatureVector,
                    FormulaShape, Util_tptp, Skolem, Transform, NPDtree,
                    Trace_tstp, CallProver, Congruence, TypeUnif, Options,
                    Basic, Monad, FastFingerprint, Evaluator, Location,
                    TypeConversion, TypeErasure, DBEnv, Interfaces,
                    lib/Sequence, lib/Bij, lib/Cache, lib/MultiMap,
                    lib/Bencode, lib/BV, lib/PersistentHashtbl, lib/Mixtbl
  BuildDepends:     unix,str,zarith
  XMETARequires:    logtk,zarith

Library "logtk_meta"
  Path:             src/meta/
  Pack:             true
  FindlibName:      meta
  FindlibParent:    logtk
  Modules:          MetaPattern, MetaKB, MetaReasoner, MetaProver,
                    Ast_theory, Lex_theory, Parse_theory, Signal
  BuildDepends:     logtk,datalog
  Build$:           flag(meta)
  Install$:         flag(meta)
  XMETARequires:    logtk,datalog

Library "logtk_arbitrary"
  Path:             src/arbitrary/
  Pack:             true
  FindlibName:      arbitrary
  FindlibParent:    logtk
  Modules:          ArTerm, ArForm, ArType, ArSignature, ArSymbol, ArPattern
  BuildDepends:     logtk,qcheck,logtk.meta
  Build$:           flag(qcheck) & flag(meta)
  Install$:         flag(qcheck) & flag(meta)
  XMETARequires:    logtk,logtk.meta,datalog,qcheck

Document logtk
  Title:                Logtk docs
  Type:                 ocamlbuild (0.3)
  BuildTools+:          ocamldoc
  Install$:             flag(qcheck) & flag(meta)
  Build$:               flag(qcheck) & flag(meta)
  XOCamlbuildPath:      .
  XOCamlbuildLibraries: logtk,logtk.meta,logtk.arbitrary

Executable run_bench
  Path: tests/
  Install: false
  CompiledObject: native
  MainIs: run_bench.ml
  Build$:   flag(bench) & flag(tests)
  BuildDepends: logtk, bench, qcheck, logtk.arbitrary

Test all
  Command: $run_tests
  TestTools: run_tests
  Run$: flag(tests) & flag(meta) & flag(qcheck)

Executable run_tests
  Path:             tests/
  Install:          false
  CompiledObject:   native
  MainIs:           run_tests.ml
  Build$:           flag(tests) & flag(meta) & flag(qcheck)
  BuildDepends:     logtk,logtk.extended,oUnit,logtk.meta,logtk.arbitrary

# TPTP syntax and type checking
Executable type_check_tptp
  Path:             tools/
  Build$:           flag(tools)
  Install$:         flag(tools)
  CompiledObject:   native
  MainIs: type_check_tptp.ml
  BuildDepends: logtk

# Conversion to CNF
Executable cnf_of_tptp
  Path:             tools/
  Build$:           flag(tools)
  Install$:         flag(tools)
  CompiledObject:   native
  MainIs:           cnf_of_tptp.ml
  BuildDepends:     logtk,logtk.extended

# detection of theories
Executable detect_theories
  Path:             tools/
  Build$:           flag(meta) & flag(tools)
  Install$:         flag(meta) & flag(tools)
  CompiledObject:   native
  MainIs:           detect_theories.ml
  BuildDepends:     logtk,logtk.extended,logtk.meta

# proof checking
Executable proof_check_tstp
  Path:             tools/
  Build$:           flag(tools)
  Install$:         flag(tools)
  CompiledObject:   native
  MainIs:           proof_check_tstp.ml
  BuildDepends:     logtk,logtk.extended

SourceRepository head
  Type: git
  Location: https://github.com/c-cube/logtk
  Browser: https://github.com/c-cube/logtk/tree/master/src
